(self.webpackChunkkubernetes_dashboard=self.webpackChunkkubernetes_dashboard||[]).push([[601],{1601:(v,L,i)=>{"use strict";i.r(L),i.d(L,{LogsModule:()=>ve});var T=i(6895),E=i(1028),$=i(6042),O=i(4793),y=i(126),A=i(3456),_=i(529),f=(()=>{return(n=f||(f={})).LoadStart="beginning",n.LoadEnd="end",n.TimestampOldest="oldest",n.TimestampNewest="newest",f;var n})(),S=i(5938),s=i(4327),a=i(6758),p=i(2722),e=i(4650),g=i(290),b=i(3162),R=i(4859),F=i(3205);function G(n,r){1&n&&(e.\u0275\u0275elementStart(0,"h2",3),e.\u0275\u0275i18n(1,4),e.\u0275\u0275elementEnd())}function P(n,r){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275i18n(1,7),e.\u0275\u0275elementEnd())}function M(n,r){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275i18n(1,8),e.\u0275\u0275elementEnd())}function j(n,r){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div"),e.\u0275\u0275i18n(2,5),e.\u0275\u0275pipe(3,"kdMemory"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"mat-progress-bar",6),e.\u0275\u0275template(5,P,2,0,"div",2),e.\u0275\u0275template(6,M,2,0,"div",2),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275i18nExp(e.\u0275\u0275pipeBind1(3,4,t.loaded)),e.\u0275\u0275i18nApply(2),e.\u0275\u0275advance(1),e.\u0275\u0275property("mode",t.getDownloadMode()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.finished),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.finished)}}function B(n,r){1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",9)(2,"h3"),e.\u0275\u0275i18n(3,10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"span"),e.\u0275\u0275i18n(5,11),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd())}function V(n,r){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"button",12),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().save()}),e.\u0275\u0275i18n(2,13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",14),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().abort()}),e.\u0275\u0275i18n(4,15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",!t.finished)}}function K(n,r){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",16)(2,"button",14),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().abort()}),e.\u0275\u0275i18n(3,17),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()}}let H=(()=>{class n{constructor(t,o,l,u){this._dialogRef=t,this.data=o,this.logService=l,this.http_=u,this.loaded=0,this.finished=!1,this._unsubscribe=new a.x,this.http_.request(new _.aW("GET",`api/v1/log/file/${o.namespace}/${o.pod}/${o.container}`,{},{reportProgress:!0,responseType:"blob",params:new _.LE({fromObject:this._logOptions})})).pipe((0,p.R)(this._unsubscribe)).subscribe(c=>{c.type===_.dt.DownloadProgress?this.loaded=c.loaded:c instanceof _.Zn&&(this.finished=!0,this._result=new Blob([c.body],{type:"text/plan"}))},c=>this._error=c.status)}get _logOptions(){return{previous:this.logService.getPrevious(),timestamps:this.logService.getShowTimestamp()}}ngOnDestroy(){this._unsubscribe.next(),this._unsubscribe.complete()}hasForbiddenError(){return void 0!==this._error&&403===this._error}save(){(0,s.saveAs)(this._result,this.logService.getLogFileName(this.data.pod,this.data.container)),this._dialogRef.close()}abort(){this._dialogRef.close()}getDownloadMode(){return this.finished?"determinate":"indeterminate"}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(S.so),e.\u0275\u0275directiveInject(S.WI),e.\u0275\u0275directiveInject(g.$),e.\u0275\u0275directiveInject(_.eN))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["kd-logs-download-dialog"]],decls:7,vars:5,consts:function(){let r,t,o,l,u,h,c,N,C;return r="Download logs file",t="\uD06C\uAE30: " + "\ufffd0\ufffd" + " B",o="Preparing file to download...",l="File is ready to download!",u="\uAD8C\uD55C \uC5C6\uC74C(403)",h="\uC774 \uC790\uC6D0\uC5D0 \uC811\uADFC\uD558\uAE30 \uC704\uD574 \uD544\uC694\uD55C \uAD8C\uD55C\uC774 \uC5C6\uC2B5\uB2C8\uB2E4.",c="Save",N="Abort",C="\uB2EB\uAE30",[["mat-dialog-title","",4,"ngIf"],[1,"kd-dialog-text"],[4,"ngIf"],["mat-dialog-title",""],r,t,["value","100",1,"kd-download-progress-bar",3,"mode"],o,l,[1,"kd-download-info"],u,h,["mat-button","","color","primary",3,"disabled","click"],c,["mat-button","","color","primary",3,"click"],N,[1,"kd-download-error-button"],C]},template:function(t,o){1&t&&(e.\u0275\u0275template(0,G,2,0,"h2",0),e.\u0275\u0275elementStart(1,"mat-dialog-content",1),e.\u0275\u0275template(2,j,7,6,"ng-container",2),e.\u0275\u0275template(3,B,6,0,"ng-container",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"mat-dialog-actions"),e.\u0275\u0275template(5,V,5,1,"ng-container",2),e.\u0275\u0275template(6,K,4,0,"ng-container",2),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275property("ngIf",!o.hasForbiddenError()),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!o.hasForbiddenError()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.hasForbiddenError()),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!o.hasForbiddenError()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.hasForbiddenError()))},directives:[T.NgIf,S.uh,S.xY,b.pW,S.H8,R.lW],pipes:[F.F],styles:[".kd-download-progress-bar[_ngcontent-%COMP%]{margin-bottom:20px;margin-top:20px}mat-dialog-actions[_ngcontent-%COMP%]{margin-top:8px}"]}),n})();var Z=i(5595),x=i(5387),Q=i(6451),Y=i(9646),J=i(2805),k=i(3900),q=i(8505),X=i(5698),ee=i(7347),I=i(1576),te=i(9549),ne=i(4385),z=i(4006),U=i(3238),oe=i(266),ie=i(7392),w=i(8255),re=i(5829),le=i(6907),se=i(147);let ae=(()=>{class n{constructor(){this._nonBreakingSpace=160}transform(t){return t?.toString().replace(/\s/g,String.fromCharCode(this._nonBreakingSpace))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.\u0275\u0275definePipe({name:"kdUntrim",type:n,pure:!0}),n})();var _e=i(4481),ce=i.n(_e);let de=(()=>{class n{transform(t){return ce()(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.\u0275\u0275definePipe({name:"kdStripAnsi",type:n,pure:!0}),n})();const ge=["logViewContainer"];function ue(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"mat-option",27),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=r.$implicit;e.\u0275\u0275property("value",t),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t," ")}}function me(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"mat-optgroup",26),e.\u0275\u0275template(1,ue,2,2,"mat-option",7),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",null==t.logSources?null:t.logSources.containerNames)}}function pe(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"mat-option",27),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=r.$implicit;e.\u0275\u0275property("value",t),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t," ")}}function fe(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"mat-optgroup",28),e.\u0275\u0275template(1,pe,2,2,"mat-option",7),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",null==t.logSources?null:t.logSources.initContainerNames)}}function Se(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"mat-option",27),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=r.$implicit;e.\u0275\u0275property("value",t),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t," ")}}const he=function(n,r){return{"kd-logs-element-compact":n,"kd-logs-element":r}};function Te(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"div",29)(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"kdUntrim"),e.\u0275\u0275pipe(4,"kdStripAnsi"),e.\u0275\u0275elementEnd()()),2&n){const t=r.$implicit,o=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(6,he,o.logService.getCompact(),!o.logService.getCompact())),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,e.\u0275\u0275pipeBind1(4,4,t)))}}function Oe(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275i18nStart(1,30),e.\u0275\u0275element(2,"kd-date",31)(3,"kd-date",31),e.\u0275\u0275i18nEnd(),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("date",null==t.podLogs?null:t.podLogs.info.fromDate),e.\u0275\u0275advance(1),e.\u0275\u0275property("date",null==t.podLogs?null:t.podLogs.info.toDate)}}const Ne=function(n,r){return{"kd-logs-text-color-invert":n,"kd-logs-text-color":r}},Ee={path:":resourceNamespace/:resourceName/:resourceType",component:(()=>{class n{constructor(t,o,l,u,h,c){this.logService=t,this.activatedRoute_=o,this.settingsService_=l,this.dialog_=u,this.notifications_=h,this._router=c,this.totalItems=0,this.itemsPerPage=10,this.refreshUnsubscribe_=new a.x,this.logsPerView=100,this.maxLogSize=2e9,this.isLoading=!0,this.refreshInterval=this.settingsService_.getLogsAutoRefreshTimeInterval();const N=this.activatedRoute_.snapshot.params.resourceNamespace,D=this.activatedRoute_.snapshot.queryParams.container;t.getResource(`source/${N}/${this.activatedRoute_.snapshot.params.resourceName}/${this.activatedRoute_.snapshot.params.resourceType}`).pipe((0,k.w)(d=>(this.logSources=d,this.pod=d.podNames[0],this.container=D||d.containerNames[0],this.appendContainerParam_(),this.logService.getResource(`${N}/${this.pod}/${this.container}`)))).pipe((0,q.b)(d=>this.logService.getAutoRefresh()?this.toggleIntervalFunction_():void 0)).pipe((0,X.q)(1)).subscribe(d=>{this.updateUiModel_(d),this.isLoading=!1})}ngOnDestroy(){this._router.navigate([],{queryParams:{container:null},queryParamsHandling:"merge"}),this.refreshUnsubscribe_.next(),this.refreshUnsubscribe_.complete()}onContainerChange(){this.appendContainerParam_(),this.loadNewest()}loadOldest(){this.loadView_(f.LoadStart,f.TimestampOldest,0,-this.maxLogSize-this.logsPerView,-this.maxLogSize,this.scrollToTop_.bind(this))}loadNewest(){this.loadView_(f.LoadEnd,f.TimestampNewest,0,this.maxLogSize,this.maxLogSize+this.logsPerView,this.scrollToBottom_.bind(this))}loadOlder(){this.loadView_(this.currentSelection.logFilePosition,this.currentSelection.referencePoint.timestamp,this.currentSelection.referencePoint.lineNum,this.currentSelection.offsetFrom-this.logsPerView,this.currentSelection.offsetFrom,this.scrollToBottom_.bind(this))}loadNewer(){this.loadView_(this.currentSelection.logFilePosition,this.currentSelection.referencePoint.timestamp,this.currentSelection.referencePoint.lineNum,this.currentSelection.offsetTo,this.currentSelection.offsetTo+this.logsPerView,this.scrollToTop_.bind(this))}onTextColorChange(){this.logService.toggleInverted()}onFontSizeChange(){this.logService.toggleCompact()}onShowTimestamp(){this.logService.toggleShowTimestamp(),this.logsSet=this.formatAllLogs_(this.podLogs.logs)}onPreviousChange(){this.logService.togglePrevious(),this.loadNewest()}toggleLogAutoRefresh(){this.logService.toggleAutoRefresh(),this.toggleIntervalFunction_()}downloadLog(){const t={data:{pod:this.pod,container:this.container,namespace:this.activatedRoute_.snapshot.paramMap.get("resourceNamespace")}};this.dialog_.open(H,t)}onLogsScroll(){this.logService.setFollowing(this.isScrolledBottom_())}updateUiModel_(t){this.podLogs=t,this.currentSelection=t.selection,this.logsSet=this.formatAllLogs_(t.logs),t.info.truncated&&this.notifications_.push("The middle part of the log file cannot be loaded, because it is too big.",x.qf.error),this.logService.getFollowing()&&setTimeout(()=>{this.scrollToBottom_()})}formatAllLogs_(t){return 0===t.length&&(t=[{timestamp:"0",content:"The selected container has not logged any messages yet."}]),t.map(o=>this.formatLine_(o))}formatLine_(t){return this.logService.getShowTimestamp()?`${new Date(t.timestamp).toISOString()} | ${t.content}`:t.content}appendContainerParam_(){this._router.navigate([],{queryParams:{container:this.container},queryParamsHandling:"merge"})}loadView_(t,o,l,u,h,c){const N=this.activatedRoute_.snapshot.params.resourceNamespace,C=(new _.LE).set("logFilePosition",t).set("referenceTimestamp",o).set("referenceLineNum",`${l}`).set("offsetFrom",`${u}`).set("offsetTo",`${h}`).set("previous",`${this.logService.getPrevious()}`);this.logService.getResource(`${N}/${this.pod}/${this.container}`,C).pipe((0,X.q)(1)).subscribe(m=>{this.updateUiModel_(m),c&&c()})}toggleIntervalFunction_(){this.logService.getAutoRefresh()?(0,Q.T)(this.settingsService_.onSettingsUpdate,(0,Y.of)(!0)).pipe((0,k.w)(t=>{this.refreshInterval=this.settingsService_.getLogsAutoRefreshTimeInterval();const o=1e3*this.refreshInterval;return(0,J.H)(0,0===o?void 0:o)})).pipe((0,p.R)(this.refreshUnsubscribe_)).subscribe(t=>this.loadView_(f.LoadEnd,f.TimestampNewest,0,this.maxLogSize,this.maxLogSize+this.logsPerView)):this.refreshUnsubscribe_.next()}scrollToBottom_(){this.scrollTo_("BOTTOM")}scrollToTop_(){this.scrollTo_("TOP")}isScrolledBottom_(){const{nativeElement:t}=this.logViewContainer_;return t.scrollHeight<=t.scrollTop+t.clientHeight}scrollTo_(t){const{nativeElement:o}=this.logViewContainer_;if(!o)return;let l;switch(t){case"TOP":l=0;break;case"BOTTOM":l=o.scrollHeight;break;default:return}o.scrollTo({top:l,left:0,behavior:"smooth"})}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(g.$),e.\u0275\u0275directiveInject(O.ActivatedRoute),e.\u0275\u0275directiveInject(Z.o),e.\u0275\u0275directiveInject(S.uw),e.\u0275\u0275directiveInject(x.TF),e.\u0275\u0275directiveInject(O.Router))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["kd-logs"]],viewQuery:function(t,o){if(1&t&&e.\u0275\u0275viewQuery(ge,7),2&t){let l;e.\u0275\u0275queryRefresh(l=e.\u0275\u0275loadQuery())&&(o.logViewContainer_=l.first)}},decls:68,vars:20,consts:function(){let r,t,o,l,u,h,c,N,C,m,D;return r="\uB85C\uADF8",t="\uCEE8\uD14C\uC774\uB108",o="\uCD08\uAE30\uD654 \uCEE8\uD14C\uC774\uB108",l="\uC548",u="\uB85C\uADF8 \uB2E4\uC6B4\uB85C\uB4DC",h="\uC0C9\uC0C1 \uBC18\uC804",c="\uAE00\uAF34 \uD06C\uAE30 \uCD95\uC18C",N="\uD0C0\uC784\uC2A4\uD0EC\uD504 \uBCF4\uAE30",C="(" + "\ufffd0\ufffd" + " \uCD08\uB9C8\uB2E4) \uC790\uB3D9 \uC0C8\uB85C\uACE0\uCE68.",m="\uC774\uC804 \uB85C\uADF8 \uBCF4\uAE30",D=" Logs from " + "\ufffd#2\ufffd" + "" + "[\ufffd/#2\ufffd|\ufffd/#3\ufffd]" + " to " + "\ufffd#3\ufffd" + "" + "[\ufffd/#2\ufffd|\ufffd/#3\ufffd]" + " UTC ",D=e.\u0275\u0275i18nPostprocess(D),[["role","inner-content",3,"expandable"],["title","","fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","8px","fxFlex","100"],r,[3,"ngModel","ngModelChange","selectionChange"],["label",t,4,"ngIf"],["label",o,4,"ngIf"],l,[3,"value",4,"ngFor","ngForOf"],["fxFlex",""],["fxFlexAlign","center end","mat-icon-button","","matTooltip",u,3,"click"],["fxLayoutAlign","center end","mat-icon-button","",3,"matMenuTriggerFor"],["content","",1,"kd-log-line-container",3,"ngClass","scroll"],["logViewContainer",""],["kdLoadingSpinner","",3,"isLoading"],["fxFlex","","fxLayout","column","fxLayoutGap","2px"],[3,"ngClass",4,"ngFor","ngForOf"],["footer","","fxFlex","","fxLayoutAlign","start center","fxLayout","row",1,"footer"],[4,"ngIf"],["mat-icon-button","",3,"click"],["kdMenu","matMenu"],["mat-menu-item","",3,"click"],h,c,N,C,m,["label",t],[3,"value"],["label",o],[3,"ngClass"],D,["format","short",3,"date"]]},template:function(t,o){if(1&t&&(e.\u0275\u0275elementStart(0,"kd-card",0)(1,"div",1)(2,"span"),e.\u0275\u0275i18n(3,2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"mat-form-field")(5,"mat-select",3),e.\u0275\u0275listener("ngModelChange",function(u){return o.container=u})("selectionChange",function(){return o.onContainerChange()}),e.\u0275\u0275template(6,me,2,1,"mat-optgroup",4),e.\u0275\u0275template(7,fe,2,1,"mat-optgroup",5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"span"),e.\u0275\u0275i18n(9,6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"mat-form-field")(11,"mat-select",3),e.\u0275\u0275listener("ngModelChange",function(u){return o.pod=u})("selectionChange",function(){return o.loadNewest()}),e.\u0275\u0275template(12,Se,2,2,"mat-option",7),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(13,"div",8),e.\u0275\u0275elementStart(14,"button",9),e.\u0275\u0275listener("click",function(){return o.downloadLog()}),e.\u0275\u0275elementStart(15,"mat-icon"),e.\u0275\u0275text(16,"file_download"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(17,"button",10)(18,"mat-icon"),e.\u0275\u0275text(19,"more_vert"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(20,"div",11,12),e.\u0275\u0275listener("scroll",function(){return o.onLogsScroll()}),e.\u0275\u0275element(22,"div",13),e.\u0275\u0275elementStart(23,"div",14),e.\u0275\u0275template(24,Te,5,9,"div",15),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(25,"div",16),e.\u0275\u0275template(26,Oe,4,2,"div",17),e.\u0275\u0275element(27,"div",8),e.\u0275\u0275elementStart(28,"div")(29,"button",18),e.\u0275\u0275listener("click",function(){return o.loadOldest()}),e.\u0275\u0275elementStart(30,"mat-icon"),e.\u0275\u0275text(31,"first_page"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(32,"button",18),e.\u0275\u0275listener("click",function(){return o.loadOlder()}),e.\u0275\u0275elementStart(33,"mat-icon"),e.\u0275\u0275text(34,"chevron_left"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(35,"button",18),e.\u0275\u0275listener("click",function(){return o.loadNewer()}),e.\u0275\u0275elementStart(36,"mat-icon"),e.\u0275\u0275text(37,"chevron_right"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(38,"button",18),e.\u0275\u0275listener("click",function(){return o.loadNewest()}),e.\u0275\u0275elementStart(39,"mat-icon"),e.\u0275\u0275text(40,"last_page"),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(41,"mat-menu",null,19)(43,"button",20),e.\u0275\u0275listener("click",function(){return o.onTextColorChange()}),e.\u0275\u0275elementStart(44,"mat-icon"),e.\u0275\u0275text(45),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(46,"span"),e.\u0275\u0275i18n(47,21),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(48,"button",20),e.\u0275\u0275listener("click",function(){return o.onFontSizeChange()}),e.\u0275\u0275elementStart(49,"mat-icon"),e.\u0275\u0275text(50),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(51,"span"),e.\u0275\u0275i18n(52,22),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(53,"button",20),e.\u0275\u0275listener("click",function(){return o.onShowTimestamp()}),e.\u0275\u0275elementStart(54,"mat-icon"),e.\u0275\u0275text(55),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(56,"span"),e.\u0275\u0275i18n(57,23),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(58,"button",20),e.\u0275\u0275listener("click",function(){return o.toggleLogAutoRefresh()}),e.\u0275\u0275elementStart(59,"mat-icon"),e.\u0275\u0275text(60),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(61,"span"),e.\u0275\u0275i18n(62,24),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(63,"button",20),e.\u0275\u0275listener("click",function(){return o.onPreviousChange()}),e.\u0275\u0275elementStart(64,"mat-icon"),e.\u0275\u0275text(65),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(66,"span"),e.\u0275\u0275i18n(67,25),e.\u0275\u0275elementEnd()()()),2&t){const l=e.\u0275\u0275reference(42);e.\u0275\u0275property("expandable",!1),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",o.container),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==o.logSources||null==o.logSources.containerNames?null:o.logSources.containerNames.length)>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==o.logSources||null==o.logSources.initContainerNames?null:o.logSources.initContainerNames.length)>0),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",o.pod),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",null==o.logSources?null:o.logSources.podNames),e.\u0275\u0275advance(5),e.\u0275\u0275property("matMenuTriggerFor",l),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(17,Ne,null==o.logService?null:o.logService.getInverted(),!(null!=o.logService&&o.logService.getInverted()))),e.\u0275\u0275advance(2),e.\u0275\u0275property("isLoading",o.isLoading),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",o.logsSet),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",(null==o.logsSet?null:o.logsSet.length)>1),e.\u0275\u0275advance(19),e.\u0275\u0275textInterpolate(null!=o.logService&&o.logService.getInverted()?"check_box":"check_box_outline_blank"),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(o.logService.getCompact()?"check_box":"check_box_outline_blank"),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(o.logService.getShowTimestamp()?"check_box":"check_box_outline_blank"),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(o.logService.getAutoRefresh()?"check_box":"check_box_outline_blank"),e.\u0275\u0275advance(2),e.\u0275\u0275i18nExp(o.refreshInterval),e.\u0275\u0275i18nApply(62),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(o.logService.getPrevious()?"check_box":"check_box_outline_blank")}},directives:[ee.A,I.xw,I.Wh,I.SQ,I.yH,te.KE,ne.gD,z.NgControlStatus,z.NgModel,T.NgIf,U.Nv,T.NgForOf,U.ey,R.lW,I.XD,oe.gM,ie.Hw,w.p6,T.NgClass,re.oO,le.T,se.I,w.VK,w.OP],pipes:[ae,de],styles:[".kd-logs-element-compact[_ngcontent-%COMP%], .kd-logs-element[_ngcontent-%COMP%]{font-family:Roboto Mono Regular,monospace;padding:0 16px;word-wrap:break-word}.kd-logs-element[_ngcontent-%COMP%]{font-size:14px}.kd-logs-element-compact[_ngcontent-%COMP%]{font-size:12px}.kd-log-line-container[_ngcontent-%COMP%]{height:100%;overflow-y:auto}.kd-log-line-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}kd-card[_ngcontent-%COMP%]{display:flex;max-height:100%;min-height:max(100%,550px)}.footer[_ngcontent-%COMP%]{font-size:14px;padding:0 16px}"]}),n})(),data:{breadcrumb:A.SX.Logs,parent:y.WX}};let Ce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[[O.RouterModule.forChild([Ee])],O.RouterModule]}),n})(),ve=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[[T.CommonModule,$.m,E.K,Ce]]}),n})()},4167:v=>{"use strict";v.exports=({onlyFirst:L=!1}={})=>{const i=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(i,L?void 0:"g")}},4327:function(v,L){var E;void 0!==(E=function(){"use strict";function O(s,a,p){var e=new XMLHttpRequest;e.open("GET",s),e.responseType="blob",e.onload=function(){S(e.response,a,p)},e.onerror=function(){console.error("could not download file")},e.send()}function y(s){var a=new XMLHttpRequest;a.open("HEAD",s,!1);try{a.send()}catch{}return 200<=a.status&&299>=a.status}function A(s){try{s.dispatchEvent(new MouseEvent("click"))}catch{var a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),s.dispatchEvent(a)}}var _="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,f=_.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),S=_.saveAs||("object"!=typeof window||window!==_?function(){}:"download"in HTMLAnchorElement.prototype&&!f?function(s,a,p){var e=_.URL||_.webkitURL,g=document.createElement("a");g.download=a=a||s.name||"download",g.rel="noopener","string"==typeof s?(g.href=s,g.origin===location.origin?A(g):y(g.href)?O(s,a,p):A(g,g.target="_blank")):(g.href=e.createObjectURL(s),setTimeout(function(){e.revokeObjectURL(g.href)},4e4),setTimeout(function(){A(g)},0))}:"msSaveOrOpenBlob"in navigator?function(s,a,p){if(a=a||s.name||"download","string"!=typeof s)navigator.msSaveOrOpenBlob(function $(s,a){return typeof a>"u"?a={autoBom:!1}:"object"!=typeof a&&(console.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\ufeff",s],{type:s.type}):s}(s,p),a);else if(y(s))O(s,a,p);else{var e=document.createElement("a");e.href=s,e.target="_blank",setTimeout(function(){A(e)})}}:function(s,a,p,e){if((e=e||open("","_blank"))&&(e.document.title=e.document.body.innerText="downloading..."),"string"==typeof s)return O(s,a,p);var g="application/octet-stream"===s.type,b=/constructor/i.test(_.HTMLElement)||_.safari,R=/CriOS\/[\d]+/.test(navigator.userAgent);if((R||g&&b||f)&&typeof FileReader<"u"){var F=new FileReader;F.onloadend=function(){var M=F.result;M=R?M:M.replace(/^data:[^;]*;/,"data:attachment/file;"),e?e.location.href=M:location=M,e=null},F.readAsDataURL(s)}else{var G=_.URL||_.webkitURL,P=G.createObjectURL(s);e?e.location=P:location.href=P,e=null,setTimeout(function(){G.revokeObjectURL(P)},4e4)}});_.saveAs=S.saveAs=S,v.exports=S}.apply(L,[]))&&(v.exports=E)},4481:(v,L,i)=>{"use strict";const T=i(4167);v.exports=E=>"string"==typeof E?E.replace(T(),""):E}}]);